(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4345:function(e,n,t){Promise.resolve().then(t.bind(t,6517))},6517:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(9268),i=t(7751);t(4947);var o=t(6006);function s(e,n){if(!e)throw"function"==typeof n&&(n=n()),Error(null!=n?n:"Assertion failed")}var l=t(6762),d=t.n(l),a=t(6905),c=t(3413),u=t(2115);function f(e){let n=(0,u.ZP)(String(e),{render:e=>(0,r.jsx)("div",{className:"p-4 bg-red-400 text-white rounded-md shadow-xl cursor-pointer",onClick:n,children:e})}).close}(0,u.Dd)({duration:1e4,position:"top-center",maxVisibleToasts:5});let m=(0,a.c)({md:"",renderedMd:"",renderingMd:!1}),x=(0,o.createContext)(m);function h(e){m.set({...m.get(),...e})}async function v(e){h({md:e,renderingMd:!0});try{let n=await c.ZP.post("https://api.github.com/markdown",{headers:{"X-GitHub-Api-Version":"2022-11-28",Accept:"application/vnd.github+json"},json:{text:e}}).text();h({renderedMd:n})}catch(e){f("Can't render markdown at the moment: GitHub returned an error."),console.error(e)}finally{h({renderingMd:!1})}}let p=()=>{let e=(0,o.useContext)(x),n=(0,o.useRef)(null);return(0,o.useEffect)(()=>{s(""===e.get().md,"md is not empty on mount")},[]),(0,o.useEffect)(()=>{var e;let t=(s(null!=(e=n.current),void 0),e),r=()=>v(t.innerText.trim()),i=d()(r,1e3);return t.addEventListener("input",i),()=>t.removeEventListener("input",i)},[]),(0,r.jsx)("div",{ref:n,className:"h-full overflow-y-scroll p-1 text-sm",style:{fontFamily:'"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace'},contentEditable:!0})};var j=t(6162),w=t(8683),g=t.n(w);let b=()=>{let e=(0,o.useContext)(x),{renderedMd:n,renderingMd:t}=(0,j.o)(e),[i,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{if(t){let n=setTimeout(()=>e.get().renderingMd&&s(!0),500);return()=>clearTimeout(n)}s(!1)},[t,e]),(0,r.jsx)("div",{className:g()("h-full overflow-y-scroll p-1 markdown-body",{"opacity-30":i}),children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})})};function y(){return(0,r.jsxs)("main",{children:[(0,r.jsx)("title",{children:"MD.PRINT"}),(0,r.jsx)(i.SV,{fallback:(0,r.jsx)("div",{}),onError:f,children:(0,r.jsx)(x.Provider,{value:m,children:(0,r.jsxs)("div",{className:"flex h-screen p-0.5",children:[(0,r.jsx)("div",{className:"flex-1 noprint",children:(0,r.jsx)(p,{})}),(0,r.jsx)("div",{className:"w-0.5 bg-gray-400 noprint"}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(b,{})})]})})})]})}t.g.window&&(window.addEventListener("error",e=>f(e.message)),window.addEventListener("unhandledrejection",e=>f(e.reason)))},4947:function(){}},function(e){e.O(0,[131,667,139,744],function(){return e(e.s=4345)}),_N_E=e.O()}]);